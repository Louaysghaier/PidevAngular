<app-nav-bar-front class="navbar"></app-nav-bar-front>

<div class="wrapper mt-5"> <!-- Adding margin-top to create space between navbar and body -->

<div class="wrapper">
  <div class="d-md-flex align-items-md-center">
      <div class="h3">About Our Proucts</div>
  </div>
  <div class="d-lg-flex align-items-lg-center pt-2">
      <div class="form-inline d-flex align-items-center my-2 mr-lg-2 radio bg-light border"> <label class="options">Most Popular <input type="radio" name="radio"> <span class="checkmark"></span> </label> <label class="options">Cheapest <input type="radio" name="radio" checked> <span class="checkmark"></span> </label> </div>
      <div class="form-inline d-flex align-items-center my-2 checkbox bg-light border mx-lg-2"> <label class="tick">Farm <input type="checkbox" checked="checked"> <span class="check"></span> </label> <span class="text-success px-2 count"> 328</span> </div>
      <div class="form-inline d-flex align-items-center my-2 checkbox bg-light border mx-lg-2"> <label class="tick">Bio <input type="checkbox"> <span class="check"></span> </label> <span class="text-success px-2 count"> 72</span> </div>
      <div class="form-inline d-flex align-items-center my-2 checkbox bg-light border mx-lg-2"> <label class="tick">Czech republic <input type="checkbox"> <span class="check"></span> </label> <span class="border px-1 mx-2 mr-3 font-weight-bold count"> 12</span> <select name="country" id="country" class="bg-light">
              <option value="" hidden>Country</option>
              <option value="India">India</option>
              <option value="USA">USA</option>
              <option value="Uk">UK</option>
          </select> </div>
  </div>
  <div class="d-sm-flex align-items-sm-center pt-2 clear">
      <div class="text-muted filter-label">Applied Filters:</div>
      <div class="green-label font-weight-bold p-0 px-1 mx-sm-1 mx-0 my-sm-0 my-2" (click)="loadproducts()">Selected Filtre <span class=" px-1 close">&times;</span> </div>
    </div>
  <div class="filters"> <button class="btn btn-success" type="button" data-toggle="collapse" data-target="#mobile-filter" aria-expanded="true" aria-controls="mobile-filter">Filter<span class="px-1 fas fa-filter"></span></button> </div>
  <div id="mobile-filter">
      <div class="py-3">
          <h5 class="font-weight-bold">category</h5>
          
      </div>
      <div class="py-3">
          <h5 class="font-weight-bold">gggg</h5>
          <form class="brand">
              <div class="form-inline d-flex align-items-center py-1"> <label class="tick">eeee <input type="checkbox"> <span class="check"></span> </label> </div>
              <div class="form-inline d-flex align-items-center py-1"> <label class="tick">ggggg <input type="checkbox" checked> <span class="check"></span> </label> </div>
              <div class="form-inline d-flex align-items-center py-1"> <label class="tick">kkkk <input type="checkbox" checked> <span class="check"></span> </label> </div>
              <div class="form-inline d-flex align-items-center py-1"> <label class="tick">lll<input type="checkbox"> <span class="check"></span> </label> </div>
              <div class="form-inline d-flex align-items-center py-1"> <label class="tick">nnnnnnnnnnn<input type="checkbox"> <span class="check"></span> </label> </div>
          </form>
      </div>
      <div class="py-3">
          <h5 class="font-weight-bold">Rating</h5>
          <form class="rating">
              <div class="form-inline d-flex align-items-center py-2"> <label class="tick"><span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
              <div class="form-inline d-flex align-items-center py-2"> <label class="tick"> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="far fa-star px-1 text-muted"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
              <div class="form-inline d-flex align-items-center py-2"> <label class="tick"><span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
              <div class="form-inline d-flex align-items-center py-2"> <label class="tick"><span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
              <div class="form-inline d-flex align-items-center py-2"> <label class="tick"> <span class="fas fa-star"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
          </form>
      </div>
  </div>
  <div class="content py-md-0 py-3">
      <section id="sidebar">
          <div class="py-3">
              <h5 class="font-weight-bold">Categories</h5>
              <ul class="list-group">
                <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="onCategoryClick('PROTEINE')">PROTEINE <span class="badge badge-primary badge-pill">{{ stockQuantities['PROTEINE']  }}</span></li>
                <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="onCategoryClick('SUPPLEMENTS')">SUPPLEMENTS <span class="badge badge-primary badge-pill">{{ stockQuantities['SUPPLEMENTS'] || 0 }}</span></li>
                <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="onCategoryClick('ENERGISANTS')">ENERGISANTS <span class="badge badge-primary badge-pill">{{ stockQuantities['ENERGISANTS'] || 0 }}</span></li>
                <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="onCategoryClick('BCAA')">BCAA <span class="badge badge-primary badge-pill">{{ stockQuantities['BCAA'] || 0 }}</span></li>
                <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="onCategoryClick('CREATINE')">CREATINE <span class="badge badge-primary badge-pill">{{ stockQuantities['CREATINE'] || 0 }}</span></li>
                <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="onCategoryClick('VITAMINES_ET_MINERAUX')">VITAMINES_ET_MINERAUX <span class="badge badge-primary badge-pill">{{ stockQuantities['VITAMINES_ET_MINERAUX'] || 0 }}</span></li>
                <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="onCategoryClick('AMINOACIDES')">AMINOACIDES <span class="badge badge-primary badge-pill">{{ stockQuantities['AMINOACIDES'] || 0 }}</span></li>
                <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="onCategoryClick('AUTRES')">AUTRES <span class="badge badge-primary badge-pill">{{ stockQuantities['AUTRES'] || 0 }}</span></li>
              </ul>
              

            
            
          </div>
          <div class="py-3">
            <h5 class="font-weight-bold">Price Range</h5>
           
          </div>
          
          <ul class="list-group">
            <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="filterProductsByPriceRange(0, 30)">0 - 30<span class="badge badge-primary badge-pill">{{  filteredProductCounts[0] }}</span></li>
            <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="filterProductsByPriceRange(31, 60)">31 - 60<span class="badge badge-primary badge-pill">{{filteredProductCount}}</span></li>
            <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="filterProductsByPriceRange(61, 90)">61 - 90<span class="badge badge-primary badge-pill">{{filteredProductCount}}</span></li>
            <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="filterProductsByPriceRange(91, 120)">91 - 120<span class="badge badge-primary badge-pill">{{filteredProductCount}}</span></li>
            <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="filterProductsByPriceRange(121, 300)">121 - 300<span class="badge badge-primary badge-pill">{{filteredProductCount}}</span></li>
            <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" (click)="filterProductsByPriceRange(301, 1000)">301 - 1000<span class="badge badge-primary badge-pill">{{filteredProductCount}}</span></li>
          </ul>


          
          <div class="py-3">
              <h5 class="font-weight-bold">Rating</h5>
              <form class="rating">
                  <div class="form-inline d-flex align-items-center py-2"> <label class="tick"><span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
                  <div class="form-inline d-flex align-items-center py-2"> <label class="tick"> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="far fa-star px-1 text-muted"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
                  <div class="form-inline d-flex align-items-center py-2"> <label class="tick"><span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
                  <div class="form-inline d-flex align-items-center py-2"> <label class="tick"><span class="fas fa-star"></span> <span class="fas fa-star"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
                  <div class="form-inline d-flex align-items-center py-2"> <label class="tick"> <span class="fas fa-star"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <span class="far fa-star px-1 text-muted"></span> <input type="checkbox"> <span class="check"></span> </label> </div>
              </form>
          </div>
      </section> <!-- Products Section -->
      <section id="products">
          <div class="container py-3">
              <div class="row">
                <div class="cards">
                  <!-- Boucle sur les produits -->
                  <div class="card" *ngFor="let product of pagedProducts">
                      <!-- Contenu de la carte -->
                      <div class="card__image-holder">
                          <img class="card__image" [src]="getImageUrl(product)" [alt]="product.name" />
                      </div>
                      <div class="card-title">
                          <a  class="toggle-info btn" (click)="openModal(product)">
                            <span class="left"></span>
                            <span class="right"></span>
                          </a>
                          
                          <h2>
                              {{ product.name }}
                              <small>{{product.price |currency}}</small>
                          </h2>
                      </div>
                      <div class="card-flap flap1">
                          <div class="card-description">
                              {{ product.description }}
                          </div>
                          <div class="card-flap flap2">
                              <div class="card-actions">
                                  <a href="#" class="btn">Read more</a>
                              </div>
                          </div>
                      </div>
                  </div>
                  <!-- Fin de la boucle sur les produits -->
              </div>
                      
                  <!-- Fin de vos cartes -->
                  
              </div>
          </div>
          
        
      </section>
      <div class="pagination-container d-flex justify-content-center mt-4" [class.d-none]="selectedProduct">
        <ul class="pagination">
          <li class="page-item" [class.disabled]="currentPage == 1" (click)="onPageChange(currentPage - 1)">
            <a class="page-link" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
          <li class="page-item" *ngFor="let page of pages" [class.active]="page === currentPage">
            <a class="page-link" (click)="onPageChange(page)">{{ page }}</a>
          </li>
          <li class="page-item" [class.disabled]="currentPage == totalPages" (click)="onPageChange(currentPage + 1)">
            <a class="page-link" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
      
              
              
              
           
            </div>
  </div>



</div>




 <!-- Modal -->
 <div class="custom-modal" tabindex="-1" role="dialog" *ngIf="selectedProduct">
    <div class="custom-modal-dialog" role="document">
      <div class="custom-modal-content">
        <!-- En-tête du modal -->
        <div class="custom-modal-header bg-primary text-white">
          <h5 class="custom-modal-title"></h5>
          <button type="button" class="close" aria-label="Close" (click)="closeModal()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <!-- Corps du modal -->
        <div class="custom-modal-body">
          <div class="row">
            <div class="col-md-3">
              <img [src]="getImageUrl(selectedProduct)" class="img-fluid" alt="Product Image">
            </div>
            <div class="col-md-6">
              <p><strong>Nom:</strong> {{ selectedProduct.name }}</p>
              <p><strong>Prix:</strong> {{ selectedProduct.price }}</p>
              <p><strong>Description:</strong> {{ selectedProduct.description }}</p>
              <p><strong>Type:</strong> {{ selectedProduct.type }}</p>
              <p><strong>Quantité en stock:</strong> {{ selectedProduct.stockQuantity }}</p>
              <button type="button" class="btn btn-primary" (click)="addToCart(productId)">Ajouter au panier</button>

            </div>
          </div>
        </div>
        <!-- Pied de page du modal -->
        <div class="custom-modal-footer">
        </div>
      </div>
    </div>
  </div>

</div>


<app-footer-front></app-footer-front>
<style>
  .wrapper {
    margin-top: 20px; /* Adjust the value as per your requirement */
    margin-bottom: 60px; /* You can also add margin-bottom if needed */
  }






</style>

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome CSS -->
    <link href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Bootstrap Bundle JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>



    